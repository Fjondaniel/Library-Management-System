<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antique Bookstore</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        body { font-family: 'Garamond', serif; }
    </style>
</head>
<body class="bg-[#F5E1DA] min-h-screen flex">
    
    <!-- Sidebar -->
    <aside class="bg-[#5C4033] text-[#EDE0D4] w-64 min-h-screen p-6 shadow-xl">
        <h1 class="text-2xl font-bold mb-6">ðŸ“œ Antique Bookstore</h1>
        <h2 class="text-lg font-semibold mb-4">Manage Your Books</h2>
        <form id="book-form" class="flex flex-col space-y-4">
            <input type="text" id="title" placeholder="Title" class="border p-2 rounded-lg text-gray-900 w-full" required>
            <input type="text" id="author" placeholder="Author" class="border p-2 rounded-lg text-gray-900 w-full" required>
            <input type="text" id="isbn" placeholder="ISBN" class="border p-2 rounded-lg text-gray-900 w-full" required>
            
            <div class=" w-full bg-[#8B5A2B] text-white rounded-lg shadow-md cursor-pointer hover:bg-[#6D4227] transition">
                <input type="file" id="image" class="hidden" accept="image/*">
                <label for="image" class="text-white px-4 py-2 ">
                    ðŸ“œ Upload Book Cover
                </label>
                <span id="file-name" class="ml-3 text-gray-700 italic"></span>
            </div>
    
            <button type="submit" class="bg-[#C9A66B] text-white p-2 rounded-lg shadow-md hover:bg-[#A67C52]">
                Add Book
            </button>
        </form>
    </aside>
    
    
    <!-- Main Content -->
    <div class="flex-1 flex flex-col min-h-screen justify-between">
        <nav class="bg-[#5C4033] text-white p-4 shadow-md flex justify-between items-center">
            <h1 class="text-2xl font-bold">ðŸ“– Vintage Library</h1>
            <input type="text" id="search" placeholder="Search books..." class="border p-2 rounded-lg text-gray-900 w-72">
        </nav>
        
        <section class="max-w-5xl mx-auto bg-white p-8 rounded-lg shadow-lg mt-6">
            <h2 class="text-2xl font-bold text-center text-[#5C4033] mb-4">Book Collection</h2>
            <div id="book-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </section>
        
        <footer class="bg-[#5C4033] text-white text-center p-4 mt-6">
            <p>&copy; 2025 Antique Bookstore. All rights reserved.</p>
        </footer>
    </div>
    
    <script>
        const bookForm = document.getElementById("book-form");
        const bookList = document.getElementById("book-list");
        const searchInput = document.getElementById("search");
        let books = [];
        
        bookForm.addEventListener("submit", function(event) {
            event.preventDefault();
            const title = document.getElementById("title").value;
            const author = document.getElementById("author").value;
            const isbn = document.getElementById("isbn").value;
            const imageFile = document.getElementById("image").files[0];
            
            const reader = new FileReader();
            reader.readAsDataURL(imageFile);
            reader.onload = function () {
                const image = reader.result;
                const book = { title, author, isbn, image };
                books.push(book);
                displayBooks();
                bookForm.reset();
            };
        });

        function displayBooks(filter = "") {
            bookList.innerHTML = "";
            books.filter(book => book.title.toLowerCase().includes(filter) || book.author.toLowerCase().includes(filter) || book.isbn.includes(filter))
                .forEach((book, index) => {
                    bookList.innerHTML += `
                        <div class="bg-[#EDE0D4] p-4 rounded-lg shadow-md flex flex-col items-center border border-[#C9A66B]">
                            <img src="${book.image}" alt="Book Cover" class="w-32 h-40 object-cover rounded-lg mb-2">
                            <h3 class="text-lg font-bold text-center text-[#5C4033]">${book.title}</h3>
                            <p class="text-gray-700 text-center">${book.author}</p>
                            <p class="text-gray-500 text-sm text-center">ISBN: ${book.isbn}</p>
                            <button onclick="deleteBook(${index})" class="bg-red-500 text-white px-3 py-1 mt-2 rounded-lg shadow-md hover:bg-red-600">Delete</button>
                        </div>`;
                });
        }

        function deleteBook(index) {
            Swal.fire({
                title: 'Are you sure?',
                text: "You won't be able to revert this!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#C9A66B',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes, delete it!'
            }).then((result) => {
                if (result.isConfirmed) {
                    books.splice(index, 1);
                    displayBooks();
                    Swal.fire('Deleted!', 'Your book has been removed.', 'success');
                }
            });
        }
        
        searchInput.addEventListener("input", function() {
            const filter = searchInput.value.toLowerCase();
            displayBooks(filter);
        });
    </script>
</body>
</html>
